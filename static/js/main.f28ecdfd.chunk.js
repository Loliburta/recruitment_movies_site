(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{21:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(8),s=a.n(r),i=a(2),o=a(3),l=a.n(o),v=a(4),u=a(5),d=a(9),p=Object(c.createContext)([""]),j=a(10),_="ca6ba627afa3f3f755cc5f5d8f2cd894",b="https://api.themoviedb.org/3/",h=function(){var e=Object(v.a)(l.a.mark((function e(t,a){var c,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(b,"movie/").concat(t,"?api_key=").concat(_,"&language=en-US&page=1"),e.prev=1,e.next=4,fetch(c);case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,console.log(r.results),a(r.results),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,a){return e.apply(this,arguments)}}(),m=function(){var e=Object(v.a)(l.a.mark((function e(t,a){var c,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=12;break}return e.next=4,fetch("".concat(b,"search/movie?api_key=").concat(_,"&language=en-US&query=").concat(t,"&page=1&include_adult=false"));case 4:return c=e.sent,e.next=7,c.json();case 7:n=e.sent,console.log(n),a(n.results),e.next=13;break;case 12:h("popular",a);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,a){return e.apply(this,arguments)}}(),O=function(){var e=Object(v.a)(l.a.mark((function e(t){var a,c,n,r,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="",e.next=4,fetch("".concat(b,"genre/movie/list?api_key=").concat(_,"&language=en-US"));case 4:return c=e.sent,e.next=7,c.json();case 7:n=e.sent,r=Object(j.a)(n.genres);try{for(r.s();!(s=r.n()).done;)i=s.value,t.includes(i.id)&&(a+="".concat(i.name," "))}catch(o){r.e(o)}finally{r.f()}return e.abrupt("return",a.slice(0,-1));case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),g=a(0),f=function(e){e.original_title;var t=e.overview,a=e.release_date,n=e.genre_ids,r=e.title,s=e.vote_average,o=(e.poster_path,e.backdrop_path),j=Object(c.useContext)(p),_=Object(i.a)(j,2),b=(_[0],_[1]),h=Object(c.useState)(""),m=Object(i.a)(h,2),f=m[0],x=m[1],k=function(){b("")};return Object(c.useEffect)((function(){Object(v.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=x,e.next=3,O(n);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(g.jsx)("div",{className:"movieOverview__wrapper",onClick:k,children:Object(g.jsxs)("div",{className:"movieOverview",onClick:function(e){e.stopPropagation()},children:[Object(g.jsx)("div",{className:"movieOverview__iconDiv",onClick:k,children:Object(g.jsx)(u.Icon,{className:"movieOverview__iconDiv__icon",icon:d.a})}),Object(g.jsx)("img",{className:"movieOverview__img",src:"https://image.tmdb.org/t/p/w500"+o,alt:r}),Object(g.jsxs)("div",{className:"details",children:[Object(g.jsx)("div",{className:"details__title",children:r}),Object(g.jsxs)("div",{className:"details__rating",children:["Rating"," ",Object(g.jsx)("b",{className:s>6?"details__vote_average":"details__vote_average--bad",children:s})," ","/ 10"]}),Object(g.jsxs)("div",{className:"details__release_date",children:["Release date ",a]}),Object(g.jsx)("div",{className:"details__overview",children:t})]}),Object(g.jsx)("div",{children:f})]})})},x=function(e){var t=e.original_title,a=e.overview,n=e.release_date,r=e.title,s=e.genre_ids,o=e.vote_average,l=e.poster_path,v=e.backdrop_path,u=Object(c.useContext)(p),d=Object(i.a)(u,2),j=(d[0],d[1]);return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"movie",onClick:function(){j(Object(g.jsx)(f,{original_title:t,overview:a,release_date:n,genre_ids:s,title:r,vote_average:o,poster_path:l,backdrop_path:v}))},children:[Object(g.jsx)("img",{className:"movie__img",src:"https://image.tmdb.org/t/p/w300"+l,alt:r}),Object(g.jsx)("div",{className:o>6?"movie__vote_average":"movie__vote_average--bad",children:o}),Object(g.jsx)("div",{className:"movie__info",children:Object(g.jsx)("div",{className:"movie__info__title",children:r})})]})})},k=a(11),N=a(12),w=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useContext)(p),s=Object(i.a)(r,2),o=s[0],l=(s[1],Object(c.useCallback)(Object(k.debounce)((function(e,t){return m(e,t)}),700),[]));return Object(c.useEffect)((function(){h("popular",n)}),[]),Object(g.jsxs)(g.Fragment,{children:[o||"",Object(g.jsxs)("div",{className:"navbar",children:[Object(g.jsxs)("div",{className:"categories",children:[Object(g.jsx)("div",{className:"categories__popular",onClick:function(){return h("popular",n)},children:"Popular"}),Object(g.jsx)("div",{className:"categories__popular",onClick:function(){return h("top_rated",n)},children:"Top Rated"}),Object(g.jsx)("div",{className:"categories__popular",onClick:function(){return h("upcoming",n)},children:"Upcoming"})]}),Object(g.jsxs)("div",{className:"navbar__search",children:[Object(g.jsx)("label",{htmlFor:"input",children:Object(g.jsx)(u.Icon,{className:"navbar__icon",icon:N.a})}),Object(g.jsx)("input",{id:"input",className:"navbar__input",type:"text",placeholder:"Search",onChange:function(e){l(e.target.value,n)}})]})]}),Object(g.jsx)("div",{className:o?"movies--open":"movies",children:a&&a.map((function(e){if(e.backdrop_path&&e.poster_path)return Object(g.jsx)(x,{original_title:e.original_title,overview:e.overview,release_date:e.release_date,genre_ids:e.genre_ids,title:e.title,vote_average:e.vote_average,poster_path:e.poster_path,backdrop_path:e.backdrop_path},e.id)}))})]})},y=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(g.jsx)(p.Provider,{value:[a,n],children:Object(g.jsx)(w,{})})};a(21);s.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(y,{})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.f28ecdfd.chunk.js.map