(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{21:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(8),s=a.n(r),i=a(3),o=a(2),l=a.n(o),u=a(4),v=a(5),p=a(9),d=Object(c.createContext)([""]),j=a(10),b="ca6ba627afa3f3f755cc5f5d8f2cd894",_="https://api.themoviedb.org/3/",h=function(){var e=Object(u.a)(l.a.mark((function e(t,a){var c,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(_,"movie/").concat(t,"?api_key=").concat(b,"&language=en-US&page=1"),e.prev=1,e.next=4,fetch(c);case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,console.log(r.results),a(r.results),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,a){return e.apply(this,arguments)}}(),m=function(){var e=Object(u.a)(l.a.mark((function e(t,a){var c,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=12;break}return e.next=4,fetch("".concat(_,"search/movie?api_key=").concat(b,"&language=en-US&query=").concat(t,"&page=1&include_adult=false"));case 4:return c=e.sent,e.next=7,c.json();case 7:n=e.sent,console.log(n),a(n.results),e.next=13;break;case 12:h("popular",a);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,a){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,c,n,r,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="",e.next=4,fetch("".concat(_,"genre/movie/list?api_key=").concat(b,"&language=en-US"));case 4:return c=e.sent,e.next=7,c.json();case 7:n=e.sent,r=Object(j.a)(n.genres);try{for(r.s();!(s=r.n()).done;)i=s.value,t.includes(i.id)&&(a+="".concat(i.name,", "))}catch(o){r.e(o)}finally{r.f()}return e.abrupt("return",a.slice(0,-2));case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,c,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="",e.next=4,fetch("".concat(_,"movie/").concat(t,"/credits?api_key=").concat(b,"&language=en-US"));case 4:return c=e.sent,e.next=7,c.json();case 7:n=e.sent,console.log(n),e.t0=l.a.keys(n.cast);case 10:if((e.t1=e.t0()).done){e.next=17;break}if("4"!==(r=e.t1.value)){e.next=14;break}return e.abrupt("break",17);case 14:a+="".concat(n.cast[r].name,", "),e.next=10;break;case 17:return e.abrupt("return",a.slice(0,-2));case 20:e.prev=20,e.t2=e.catch(0),console.log(e.t2);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}(),x=a(0),g=function(e){var t=e.id,a=e.overview,n=e.release_date,r=e.genre_ids,s=e.title,o=e.vote_average,j=(e.poster_path,e.backdrop_path),b=Object(c.useContext)(d),_=Object(i.a)(b,2)[1],h=Object(c.useState)(""),m=Object(i.a)(h,2),g=m[0],k=m[1],w=Object(c.useState)([]),N=Object(i.a)(w,2),y=N[0],C=N[1],S=function(){_("")};return Object(c.useEffect)((function(){Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=k,e.next=3,O(r);case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=C,e.next=8,f(t);case 8:e.t3=e.sent,(0,e.t2)(e.t3),console.log(y);case 11:case"end":return e.stop()}}),e)})))()}),[r,t,y]),Object(x.jsx)("div",{className:"movieOverview__wrapper",onClick:S,children:Object(x.jsxs)("div",{className:"movieOverview",onClick:function(e){e.stopPropagation()},children:[Object(x.jsx)("div",{className:"movieOverview__iconDiv",onClick:S,children:Object(x.jsx)(v.Icon,{className:"movieOverview__iconDiv__icon",icon:p.a})}),Object(x.jsx)("img",{className:"movieOverview__img",src:"https://image.tmdb.org/t/p/w500"+j,alt:s}),Object(x.jsxs)("div",{className:"details",children:[Object(x.jsxs)("div",{className:"details__title",children:[s," (",n.slice(0,4),")"]}),Object(x.jsxs)("div",{className:"details__rating",children:["Rating"," ",Object(x.jsx)("b",{className:o>6?"details__vote_average":"details__vote_average--bad",children:o})," ","/ 10"]}),Object(x.jsx)("div",{className:"details__overview",children:a}),Object(x.jsxs)("div",{className:"details__movieGenres",children:["Genres: ",g]}),Object(x.jsxs)("div",{className:"details__cast",children:["Cast: ",y]})]})]})})},k=function(e){var t=e.id,a=e.overview,n=e.release_date,r=e.title,s=e.genre_ids,o=e.vote_average,l=e.poster_path,u=e.backdrop_path,v=Object(c.useContext)(d),p=Object(i.a)(v,2)[1];return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"movie",onClick:function(){p(Object(x.jsx)(g,{id:t,overview:a,release_date:n,genre_ids:s,title:r,vote_average:o,poster_path:l,backdrop_path:u}))},children:[Object(x.jsx)("img",{className:"movie__img",src:"https://image.tmdb.org/t/p/w300"+l,alt:r}),Object(x.jsx)("div",{className:o>6?"movie__vote_average":"movie__vote_average--bad",children:o}),Object(x.jsx)("div",{className:"movie__info",children:Object(x.jsx)("div",{className:"movie__info__title",children:r})})]})})},w=a(11),N=a(12),y=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useContext)(d),s=Object(i.a)(r,1)[0],o=Object(c.useCallback)(Object(w.debounce)((function(e,t){return m(e,t)}),700),[]);return Object(c.useEffect)((function(){h("popular",n)}),[]),Object(x.jsxs)(x.Fragment,{children:[s||"",Object(x.jsxs)("div",{className:"navbar",children:[Object(x.jsxs)("div",{className:"categories",children:[Object(x.jsx)("div",{className:"categories__popular",onClick:function(){return h("popular",n)},children:"Popular"}),Object(x.jsx)("div",{className:"categories__popular",onClick:function(){return h("top_rated",n)},children:"Top Rated"}),Object(x.jsx)("div",{className:"categories__popular",onClick:function(){return h("upcoming",n)},children:"Upcoming"})]}),Object(x.jsxs)("div",{className:"navbar__search",children:[Object(x.jsx)("label",{htmlFor:"input",children:Object(x.jsx)(v.Icon,{className:"navbar__icon",icon:N.a})}),Object(x.jsx)("input",{id:"input",className:"navbar__input",type:"text",placeholder:"Search",onChange:function(e){o(e.target.value,n)}})]})]}),Object(x.jsx)("div",{className:"movies",children:a&&a.map((function(e){return e.backdrop_path&&e.poster_path?Object(x.jsx)(k,{id:e.id,overview:e.overview,release_date:e.release_date,genre_ids:e.genre_ids,title:e.title,vote_average:e.vote_average,poster_path:e.poster_path,backdrop_path:e.backdrop_path},e.id):""}))})]})},C=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(x.jsx)(d.Provider,{value:[a,n],children:Object(x.jsx)(y,{})})};a(21);s.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(C,{})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.68d18c8e.chunk.js.map