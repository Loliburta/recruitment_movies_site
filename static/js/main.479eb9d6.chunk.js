(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{21:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(8),s=a.n(r),i=a(3),o=a(2),l=a.n(o),u=a(4),v=a(5),d=a(9),p=Object(c.createContext)([""]),j=a(10),b="ca6ba627afa3f3f755cc5f5d8f2cd894",_="https://api.themoviedb.org/3/",m=function(){var e=Object(u.a)(l.a.mark((function e(t,a){var c,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(_,"movie/").concat(t,"?api_key=").concat(b,"&language=en-US&page=1"),e.prev=1,e.next=4,fetch(c);case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,a(r.results),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(l.a.mark((function e(t,a){var c,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=11;break}return e.next=4,fetch("".concat(_,"search/movie?api_key=").concat(b,"&language=en-US&query=").concat(t,"&page=1&include_adult=false"));case 4:return c=e.sent,e.next=7,c.json();case 7:n=e.sent,a(n.results),e.next=12;break;case 11:m("popular",a);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,a){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,c,n,r,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="",e.next=4,fetch("".concat(_,"genre/movie/list?api_key=").concat(b,"&language=en-US"));case 4:return c=e.sent,e.next=7,c.json();case 7:n=e.sent,r=Object(j.a)(n.genres);try{for(r.s();!(s=r.n()).done;)i=s.value,t.includes(i.id)&&(a+="".concat(i.name,", "))}catch(o){r.e(o)}finally{r.f()}return e.abrupt("return",a.slice(0,-2));case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,c,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="",e.next=4,fetch("".concat(_,"movie/").concat(t,"/credits?api_key=").concat(b,"&language=en-US"));case 4:return c=e.sent,e.next=7,c.json();case 7:n=e.sent,e.t0=l.a.keys(n.cast);case 9:if((e.t1=e.t0()).done){e.next=16;break}if("4"!==(r=e.t1.value)){e.next=13;break}return e.abrupt("break",16);case 13:a+="".concat(n.cast[r].name,", "),e.next=9;break;case 16:return e.abrupt("return",a.slice(0,-2));case 19:e.prev=19,e.t2=e.catch(0),console.log(e.t2);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}(),f=a(0),g=function(e){var t=e.id,a=e.overview,n=e.release_date,r=e.genre_ids,s=e.title,o=e.vote_average,j=e.backdrop_path,b=Object(c.useContext)(p),_=Object(i.a)(b,2)[1],m=Object(c.useState)(""),h=Object(i.a)(m,2),g=h[0],k=h[1],N=Object(c.useState)(""),w=Object(i.a)(N,2),y=w[0],C=w[1],S=function(){_("")};return Object(c.useEffect)((function(){Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=k,e.next=3,O(r);case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=C,e.next=8,x(t);case 8:e.t3=e.sent,(0,e.t2)(e.t3);case 10:case"end":return e.stop()}}),e)})))()}),[r,t,y]),Object(f.jsx)("div",{className:"movieOverview__wrapper",onClick:S,children:Object(f.jsxs)("div",{className:"movieOverview",onClick:function(e){e.stopPropagation()},children:[Object(f.jsx)("div",{className:"movieOverview__iconDiv",onClick:S,children:Object(f.jsx)(v.Icon,{className:"movieOverview__iconDiv__icon",icon:d.a})}),Object(f.jsx)("img",{className:"movieOverview__img",src:"https://image.tmdb.org/t/p/w780"+j,alt:s}),Object(f.jsxs)("div",{className:"details",children:[Object(f.jsxs)("div",{className:"details__title",children:[s," (",n.slice(0,4),")"]}),Object(f.jsxs)("div",{className:"details__rating",children:["Rating"," ",Object(f.jsx)("b",{className:o>6?"details__vote_average":"details__vote_average--bad",children:o})," ","/ 10"]}),Object(f.jsx)("div",{className:"details__overview",children:a}),Object(f.jsxs)("div",{className:"details__movieGenres",children:[Object(f.jsx)("span",{className:"details--gray",children:"Genres:"})," ",g]}),Object(f.jsxs)("div",{className:"details__cast",children:[Object(f.jsx)("span",{className:"details--gray",children:"Cast:"})," ",y]})]})]})})},k=function(e){var t=e.id,a=e.overview,n=e.release_date,r=e.title,s=e.genre_ids,o=e.vote_average,l=e.poster_path,u=e.backdrop_path,v=Object(c.useContext)(p),d=Object(i.a)(v,2)[1];return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"movie",onClick:function(){d(Object(f.jsx)(g,{id:t,overview:a,release_date:n,genre_ids:s,title:r,vote_average:o,backdrop_path:u}))},children:[Object(f.jsx)("img",{className:"movie__img",src:"https://image.tmdb.org/t/p/w300"+l,alt:r}),Object(f.jsx)("div",{className:o>6?"movie__vote_average":"movie__vote_average--bad",children:o}),Object(f.jsx)("div",{className:"movie__info",children:Object(f.jsx)("div",{className:"movie__info__title",children:r})})]})})},N=a(11),w=a(12),y=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useContext)(p),s=Object(i.a)(r,1)[0],o=Object(c.useCallback)(Object(N.debounce)((function(e,t){return h(e,t)}),500),[]);return Object(c.useEffect)((function(){m("popular",n)}),[]),Object(f.jsxs)(f.Fragment,{children:[s||"",Object(f.jsxs)("div",{className:"navbar",children:[Object(f.jsxs)("div",{className:"categories",children:[Object(f.jsx)("div",{className:"categories__popular",onClick:function(){return m("popular",n)},children:"Popular"}),Object(f.jsx)("div",{className:"categories__popular",onClick:function(){return m("top_rated",n)},children:"Top Rated"}),Object(f.jsx)("div",{className:"categories__popular",onClick:function(){return m("upcoming",n)},children:"Upcoming"})]}),Object(f.jsxs)("div",{className:"navbar__search",children:[Object(f.jsx)("label",{htmlFor:"input",children:Object(f.jsx)(v.Icon,{className:"navbar__icon",icon:w.a})}),Object(f.jsx)("input",{id:"input",className:"navbar__input",type:"text",placeholder:"Search",onChange:function(e){return function(e,t){o(e.target.value,t)}(e,n)}})]})]}),Object(f.jsx)("div",{className:"movies",children:a&&a.map((function(e){return e.backdrop_path&&e.poster_path?Object(f.jsx)(k,{id:e.id,overview:e.overview,release_date:e.release_date,genre_ids:e.genre_ids,title:e.title,vote_average:e.vote_average,poster_path:e.poster_path,backdrop_path:e.backdrop_path},e.id):""}))})]})},C=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(f.jsx)(p.Provider,{value:[a,n],children:Object(f.jsx)(y,{})})};a(21);s.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(C,{})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.479eb9d6.chunk.js.map