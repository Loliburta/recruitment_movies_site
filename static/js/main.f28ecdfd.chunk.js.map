{"version":3,"sources":["utils/context.ts","utils/apiCalls.ts","components/MovieOverview/MovieOverview.tsx","components/Movie/Movie.tsx","components/App/App.tsx","components/Wrapper.tsx","index.tsx"],"names":["overviewContext","createContext","apiKey","process","base","getCall","query","setMovies","a","mostPopularMovies","fetch","res","json","moviesList","console","log","results","searchCall","search","getGenres","genre_ids","result","genres","x","includes","id","name","slice","MovieOverview","original_title","overview","release_date","title","vote_average","backdrop_path","poster_path","useContext","setOverviewBox","useState","movieGenres","setMovieGenres","closeOverview","useEffect","className","onClick","e","stopPropagation","icon","closeIcon","src","alt","Movie","App","movies","overviewBox","debouncedSearch","useCallback","debounce","htmlFor","searchFill","type","placeholder","onChange","target","value","map","movie","Wrapper","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f28ecdfd.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\ntype overviewContextProps = [\n  overviewBox: any,\n  setOverviewBox?: React.Dispatch<React.SetStateAction<any>>\n];\n\nexport const overviewContext = createContext<overviewContextProps>([\"\"]);\n","const apiKey = process.env.REACT_APP_API_KEY;\nconst base = \"https://api.themoviedb.org/3/\";\n\nexport const getCall = async (\n  query: string,\n  setMovies: React.Dispatch<React.SetStateAction<never[]>>\n) => {\n  const mostPopularMovies = `${base}movie/${query}?api_key=${apiKey}&language=en-US&page=1`;\n  try {\n    const res = await fetch(mostPopularMovies);\n    const moviesList = await res.json();\n    console.log(moviesList.results);\n    setMovies(moviesList.results);\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const searchCall = async (\n  search: string,\n  setMovies: React.Dispatch<React.SetStateAction<never[]>>\n) => {\n  try {\n    if (search) {\n      const res = await fetch(\n        `${base}search/movie?api_key=${apiKey}&language=en-US&query=${search}&page=1&include_adult=false`\n      );\n      const moviesList = await res.json();\n      console.log(moviesList);\n      setMovies(moviesList.results);\n    } else {\n      getCall(\"popular\", setMovies);\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getGenres = async (genre_ids: number[]) => {\n  try {\n    let result = \"\";\n    const res = await fetch(\n      `${base}genre/movie/list?api_key=${apiKey}&language=en-US`\n    );\n    const genres = await res.json();\n    for (const x of genres.genres) {\n      genre_ids.includes(x.id) && (result += `${x.name} `);\n    }\n    return result.slice(0, -1);\n  } catch (error) {\n    console.log(error);\n  }\n};\n","import { useState, useEffect } from \"react\";\nimport { Icon } from \"@iconify/react\";\nimport closeIcon from \"@iconify-icons/carbon/close\";\nimport { overviewContext } from \"../../utils/context\";\nimport { getGenres } from \"../../utils/apiCalls\";\nimport { useContext } from \"react\";\ninterface Props {\n  original_title: string;\n  overview: string;\n  release_date: string;\n  genre_ids: number[];\n  title: string;\n  vote_average: number;\n  poster_path: string;\n  backdrop_path: string;\n}\nexport const MovieOverview: React.FC<Props> = ({\n  original_title,\n  overview,\n  release_date,\n  genre_ids,\n  title,\n  vote_average,\n  poster_path,\n  backdrop_path,\n}) => {\n  const [overviewBox, setOverviewBox] = useContext(overviewContext);\n  const imgApi = \"https://image.tmdb.org/t/p/w500\";\n  const [movieGenres, setMovieGenres] = useState<any>(\"\");\n\n\n  const closeOverview = () => {\n    setOverviewBox!(\"\");\n  };\n\n  useEffect(() => {\n    (async () => {\n      setMovieGenres(await getGenres(genre_ids));\n    })();\n  }, []);\n\n  return (\n    <div className=\"movieOverview__wrapper\" onClick={closeOverview}>\n      <div\n        className=\"movieOverview\"\n        onClick={(e) => {\n          e.stopPropagation();\n        }}\n      >\n        <div className=\"movieOverview__iconDiv\" onClick={closeOverview}>\n          <Icon className=\"movieOverview__iconDiv__icon\" icon={closeIcon} />\n        </div>\n        <img\n          className=\"movieOverview__img\"\n          src={imgApi + backdrop_path}\n          alt={title}\n        />\n        <div className=\"details\">\n          <div className=\"details__title\">{title}</div>\n          <div className=\"details__rating\">\n            Rating{\" \"}\n            <b\n              className={\n                vote_average > 6\n                  ? \"details__vote_average\"\n                  : \"details__vote_average--bad\"\n              }\n            >\n              {vote_average}\n            </b>{\" \"}\n            / 10\n          </div>\n          <div className=\"details__release_date\">\n            Release date {release_date}\n          </div>\n          <div className=\"details__overview\">{overview}</div>\n        </div>\n        <div>{movieGenres}</div>\n      </div>\n    </div>\n  );\n};\n","import { useState, useEffect, useRef, useContext } from \"react\";\nimport { MovieOverview } from \"../MovieOverview/MovieOverview\";\nimport { overviewContext } from \"../../utils/context\";\n\ninterface Props {\n  original_title: string;\n  overview: string;\n  release_date: string;\n  title: string;\n  genre_ids: number[];\n  vote_average: number;\n  poster_path: string;\n  backdrop_path: string;\n}\nconst imgApi = \"https://image.tmdb.org/t/p/w300\";\nexport const Movie: React.FC<Props> = ({\n  original_title,\n  overview,\n  release_date,\n  title,\n  genre_ids,\n  vote_average,\n  poster_path,\n  backdrop_path,\n}) => {\n  const [overviewBox, setOverviewBox] = useContext(overviewContext);\n\n  const openOverview = () => {\n    setOverviewBox!(\n      <MovieOverview\n        original_title={original_title}\n        overview={overview}\n        release_date={release_date}\n        genre_ids={genre_ids}\n        title={title}\n        vote_average={vote_average}\n        poster_path={poster_path}\n        backdrop_path={backdrop_path}\n      />\n    );\n  };\n\n  return (\n    <>\n      <div className=\"movie\" onClick={openOverview}>\n        <img className=\"movie__img\" src={imgApi + poster_path} alt={title} />\n        <div\n          className={\n            vote_average > 6\n              ? \"movie__vote_average\"\n              : \"movie__vote_average--bad\"\n          }\n        >\n          {vote_average}\n        </div>\n\n        <div className=\"movie__info\">\n          <div className=\"movie__info__title\">{title}</div>\n        </div>\n      </div>\n    </>\n  );\n};\n","import { useState, useEffect, useCallback, useContext } from \"react\";\nimport { Movie } from \"../Movie/Movie\";\nimport { getCall, searchCall } from \"../../utils/apiCalls\";\nimport { overviewContext } from \"../../utils/context\";\nimport { debounce } from \"lodash\";\nimport { Icon } from \"@iconify/react\";\nimport searchFill from \"@iconify-icons/eva/search-fill\";\ninterface Props {\n  id: number;\n  original_title: string;\n  overview: string;\n  release_date: string;\n  all_genres: [{ id: number; name: string }];\n  genre_ids: number[];\n  title: string;\n  vote_average: number;\n  poster_path: string;\n  backdrop_path: string;\n}\nexport const App: React.FC = () => {\n  const [movies, setMovies] = useState([]);\n  const [overviewBox, setOverviewBox] = useContext(overviewContext);\n  const debouncedSearch = useCallback(\n    debounce((search, setMovies) => searchCall(search, setMovies), 700),\n    []\n  );\n  const handleChange = (e: React.ChangeEvent<any>) => {\n    debouncedSearch(e.target.value, setMovies);\n  };\n\n  useEffect(() => {\n    getCall(\"popular\", setMovies);\n  }, []);\n\n  return (\n    <>\n      {overviewBox ? overviewBox : \"\"}\n      <div className=\"navbar\">\n        <div className=\"categories\">\n          <div\n            className=\"categories__popular\"\n            onClick={() => getCall(\"popular\", setMovies)}\n          >\n            Popular\n          </div>\n          <div\n            className=\"categories__popular\"\n            onClick={() => getCall(\"top_rated\", setMovies)}\n          >\n            Top Rated\n          </div>\n          <div\n            className=\"categories__popular\"\n            onClick={() => getCall(\"upcoming\", setMovies)}\n          >\n            Upcoming\n          </div>\n        </div>\n        <div className=\"navbar__search\">\n          <label htmlFor=\"input\">\n            <Icon className=\"navbar__icon\" icon={searchFill} />\n          </label>\n          <input\n            id=\"input\"\n            className=\"navbar__input\"\n            type=\"text\"\n            placeholder=\"Search\"\n            onChange={handleChange}\n          />\n        </div>\n      </div>\n      <div className={overviewBox ? \"movies--open\" : \"movies\"}>\n        {movies &&\n          movies.map((movie: Props) => {\n            if (!movie.backdrop_path || !movie.poster_path) {\n              return;\n            }\n            return (\n              <Movie\n                key={movie.id}\n                original_title={movie.original_title}\n                overview={movie.overview}\n                release_date={movie.release_date}\n                genre_ids={movie.genre_ids}\n                title={movie.title}\n                vote_average={movie.vote_average}\n                poster_path={movie.poster_path}\n                backdrop_path={movie.backdrop_path}\n              />\n            );\n          })}\n      </div>\n    </>\n  );\n};\n","import React, { useState } from \"react\";\nimport { App } from \"./App/App\";\nimport { overviewContext } from \"../utils/context\";\n\nexport const Wrapper = () => {\n  const [overviewBox, setOverviewBox] = useState(\"\");\n\n  return (\n    <overviewContext.Provider value={[overviewBox, setOverviewBox]}>\n      <App />\n    </overviewContext.Provider>\n  );\n};\n\nexport default Wrapper;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Wrapper from \"./components/Wrapper\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Wrapper />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}